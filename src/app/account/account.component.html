<div [ngClass]="{'padding':appService.hideLogo,'container':!appService.hideLogo}">
  <h4>Hi {{expanseService.currentSession.name}}!</h4>
  <hr>
  <div class="row">
    <div class="col s12 m6">
      You can manage your apps and update your personal details here. Apps are approved the first time you publish,
      updates are real time after that. Approval is just a quick test of download etc.<br><br>

      Things might seem a little all over the place here but it will all come together very soon. Lots of new features coming soon too!
    </div>
    <div class="col s12 m2 center-align">
      <img class="responsive-img" src="{{expanseService.cdnUrl+expanseService.currentSession.preview_image}}"/><br><br>
      <div class="btn waves-effect waves-light pink-button small-button" (click)="passwordModal.openModal()">Change Password</div>
    </div>
    <div class="input-field col s12 m4">
      <div class="input-field">
        <i class="material-icons prefix">face</i>
        <input id="user_name" type="text" placeholder="Your name..." [(ngModel)]="expanseService.currentSession.name">
        <label for="user_name" class="active">Name</label>
      </div>
      <div class="input-field">
        <i class="material-icons prefix">mail</i>
        <input id="user_email" type="text" placeholder="Your name..." [(ngModel)]="expanseService.currentSession.email">
        <label for="user_email" class="active">Email</label>
      </div>
      <div class="btn right waves-effect waves-light pink-button" (click)="saveNameAndEmail()">Save</div>
    </div>
  </div>

  <h4>My Apps</h4>
  <hr>
  <div class="row">
    <div class="col s12 m6">
      <div class="add-app" routerLink="/my-app">
        <i class="material-icons">add</i> Add App
      </div>
    </div>
    <div class="col s12 m6" *ngFor="let app of myApps">
      <div class="card card-height">
        <div class="card-image card-image-left waves-effect waves-block waves-light activator"
             *ngIf="app.image_url" [ngStyle]="{'background-image':'url('+app.image_url+')'}">
        </div>
        <div class="card-content card-height">
          <i class="material-icons activator pointer right">more_vert</i>
          <span class="card-title activator white-text truncate" [ngClass]="{'card-title-small':app.image_url}">{{app.name||'No Name...'}}</span>
          <p class="grey-text description truncate" [ngClass]="{'card-title-small':app.image_url}">{{app.summary}}</p>
          <div class="right-align">
            <span class="chip left white-text"
               [ngClass]="{'pink-button': app.active, 'orange': !app.active}">
            {{app.active ? 'Published' : 'Pending'}}
          </span>
            <div class="btn-flat waves-effect waves-light white-text" routerLink="/my-app/{{app.apps_id}}">Open</div>
          </div>
        </div>
        <div class="card-reveal">
          <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i>{{app.name||'No Name...'}}</span>
          <p class="grey-text">{{app.summary}}</p>
        </div>
      </div>
    </div>
  </div>
  <br><br>
  <h4>My Repos</h4>
  <hr>
  <div class="row">
    <div class="col s12 m6">
      <div class="add-app">
        Coming soon...
      </div>
    </div>
  </div>
  <br><br>
  <h4>My Events</h4>
  <hr>
  <div class="row">
    <div class="col s12 m6">
      <div class="add-app">
        Coming soon...
      </div>
    </div>
  </div>
</div>



<mz-modal #passwordModal [fixedFooter]="true">
  <mz-modal-header>
    <h4>Change Password</h4>
  </mz-modal-header>
  <mz-modal-content>
    <div class="row">
      <div class="input-field col s12 m9">
        <div class="input-field">
          <i class="material-icons prefix">face</i>
          <input id="password1" type="password" placeholder="Password..." [(ngModel)]="newPassword">
          <label for="password1" class="active">Password</label>
        </div>
        <div class="input-field">
          <i class="material-icons prefix">mail</i>
          <input id="password2" type="password" placeholder="Password Again..." [(ngModel)]="newPassword1">
          <label for="password2" class="active">Password Again</label>
        </div>
      </div>
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button class="white-text waves-light" [flat]="true" mz-modal-close>Close</button>
    <button mz-button class="pink-button" mz-modal-close (click)="changePassword()">Change Password</button>
  </mz-modal-footer>
</mz-modal>
